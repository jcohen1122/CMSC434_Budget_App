<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Budget Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<script>
    window.onload = function () {
        // INCOME
        const savedIncome = localStorage.getItem("user_income");
        const income = Number(savedIncome) || 0;
        document.querySelector("#income_box").value = income.toFixed(2);
    
        // EXPENSES
        const expenses = JSON.parse(localStorage.getItem("expense_history")) || [];
        const totalExpenses = expenses.reduce((sum, exp) => sum + Number(exp.amount), 0);
        document.querySelector("#expenses").value = totalExpenses.toFixed(2);
    
        // REMAINING BUDGET
        document.querySelector("#net").value = (income - totalExpenses).toFixed(2);
    };

    function saveData() {
      const input = document.querySelector("#income_box").value;
      localStorage.setItem("user_income", input);
      location.reload();
    };
</script>
<body>
    <div class = "device">
        <p class = "tab_heading">Welcome, User!</p>
        <h1>Income&nbsp</h1>
        <!-- Will change value to pull from user's manually inputted income -->
        <input type="text" value = "100000.00" id = "income_box" class = "balance_box">
        <button onclick = "saveData()">Update</button>
        <!-- Will change value to pull from user's manually inputted income -->
        <h1>Expenses&nbsp</h1>
        <input type="text" value = "20000.00" id = "expenses" class = "balance_box" readonly>
        <h1>Remaining Budget&nbsp</h1>
        <input type="text" value = "80000.00" id = "net" style="background-color: #d7ffd9;" class="balance_box" readonly>
        <div class = "tabcontainer">
            <button onclick="window.location.href='budget.html'">
                <img src="icons/budget.png" alt="Home" width="75px">
            </button>
            <button onclick="window.location.href='add_expense.html'">
                <img src="icons/expense.png" alt="Home" width="75px">
            </button>
            <button onclick="window.location.href='index.html'">
                <img src="icons/home.png" alt="Home" width="125px">
            </button>
            <button onclick="window.location.href='bill_tracker.html'">
                <img src="icons/bills.png" alt="Home" width="75px">
            </button>
            <button onclick="window.location.href='goal.html'">
                <img src="icons/savingsgoal.png" alt="Home" width="75px">
            </button>
        </div>
    </div>
</body>
</html>