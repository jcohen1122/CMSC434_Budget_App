<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Budget Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<script>
    window.onload = function () {
        // INCOME
        const savedIncome = localStorage.getItem("user_income");
        const income = Number(savedIncome) || 0;
        document.querySelector("#income_box").value = income.toFixed(2);
    
        // EXPENSES
        const expenses = JSON.parse(localStorage.getItem("expense_history")) || [];
        const totalExpenses = expenses.reduce((sum, exp) => sum + Number(exp.amount), 0);
        document.querySelector("#expenses").value = totalExpenses.toFixed(2);
    
        // REMAINING BUDGET
        document.querySelector("#net").value = (income - totalExpenses).toFixed(2);
    };

    function saveData() {
      const input = document.querySelector("#income_box").value;
      localStorage.setItem("user_income", input);
      location.reload();
    };
</script>
<body>
    <div class = "device">
        <br><br><br><br><br><br><br>
        <form>
            <h2>Income</h2>
            <!-- Will change value to pull from user's manually inputted income -->
            <input type="text" value = "100000.00" id = "income_box" class = "input_box">
            <button onclick = "saveData()">Update</button>
            <!-- Will change value to pull from user's manually inputted income -->
            <h2>Expenses</h2>
            <input type="text" value = "20000.00" id = "expenses" class = "input_box" readonly>
            <h2>Disposible Income</h2>
            <input type="text" value = "80000.00" id = "net" class="input_box" readonly>
        </form>
        <div class="tabcontainer">
            <button onclick="window.location.href='budget.html'">
              <img src="icons/budget.png" alt="Home" width="100px">
            </button>
            <button onclick="window.location.href='add_expense.html'">
              <img src="icons/expense.png" alt="Home" width="100px">
            </button>
            <button onclick="window.location.href='index.html'">
              <img src="icons/home.png" alt="Home" width="100px">
            </button>
            <button onclick="window.location.href='bill_tracker.html'">
              <img src="icons/bills.png" alt="Home" width="100px">
            </button>
            <button onclick="window.location.href='goal.html'">
              <img src="icons/savingsgoal.png" alt="Home" width="100px">
            </button>
          </div>
        <br>
        <div class="keyboard">
            <div class="row">
              <div class="key">Q</div>
              <div class="key">W</div>
              <div class="key">E</div>
              <div class="key">R</div>
              <div class="key">T</div>
              <div class="key">Y</div>
              <div class="key">U</div>
              <div class="key">I</div>
              <div class="key">O</div>
              <div class="key">P</div>
            </div>
            <div class="row">
              <div class="key">A</div>
              <div class="key">S</div>
              <div class="key">D</div>
              <div class="key">F</div>
              <div class="key">G</div>
              <div class="key">H</div>
              <div class="key">J</div>
              <div class="key">K</div>
              <div class="key">L</div>
            </div>
            <div class="row">
              <div class="key wide">Shift</div>
              <div class="key">Z</div>
              <div class="key">X</div>
              <div class="key">C</div>
              <div class="key">V</div>
              <div class="key">B</div>
              <div class="key">N</div>
              <div class="key">M</div>
              <div class="key wide">Delete</div>
            </div>
            <div class="row">
              <div class="key wide">123</div>
              <div class="key wide">Emoji</div>
              <div class="key space">Space</div>
              <div class="key wide">Return</div>
            </div>
        </div>
    </div>
</body>
</html>